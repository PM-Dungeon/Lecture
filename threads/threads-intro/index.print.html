<!DOCTYPE html>
<html lang="de-DE" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.135.0">
    <meta name="generator" content="Relearn 6.4.1">
    <meta name="description" content="42 Demo: misc.SwingWorkerDemo (GUI ausprobieren) Einführung in nebenläufige Programmierung Traditionelle Programmierung Aufruf einer Methode verlagert Kontrollfluss in diese Methode Code hinter Methodenaufruf wird erst nach Beendigung der Methode ausgeführt public class Traditional { public static void main(String... args) { Traditional x = new Traditional(); System.out.println(&#34;main(): vor run()&#34;); x.run(); System.out.println(&#34;main(): nach run()&#34;); } public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Traditional Nebenläufige Programmierung Erzeugung eines neuen Kontrollflussfadens (Thread) Läuft (quasi-) parallel zu bisherigem Kontrollfluss Threads können unabhängig von einander arbeiten Zustandsverwaltung durch Java-VM (oder Unterstützung durch Betriebssystem) Aufruf einer bestimmten Methode erzeugt neuen Kontrollflussfaden Der neue Thread arbeitet &#34;parallel&#34; zum bisherigen Thread Kontrolle kehrt sofort wieder zurück: Code hinter dem Methodenaufruf wird ausgeführt ohne auf die Beendigung der aufgerufenen Methode zu warten Verteilung der Threads auf die vorhandenen Prozessorkerne abhängig von der Java-VM public class Threaded extends Thread { public static void main(String... args) { Threaded x = new Threaded(); System.out.println(&#34;main(): vor run()&#34;); x.start(); System.out.println(&#34;main(): nach run()&#34;); } @Override public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Threaded Erzeugen von Threads Ableiten von Thread oder Implementierung von Runnable">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Einführung in die nebenläufige Programmierung mit Threads">
    <meta name="twitter:description" content="42 Demo: misc.SwingWorkerDemo (GUI ausprobieren) Einführung in nebenläufige Programmierung Traditionelle Programmierung Aufruf einer Methode verlagert Kontrollfluss in diese Methode Code hinter Methodenaufruf wird erst nach Beendigung der Methode ausgeführt public class Traditional { public static void main(String... args) { Traditional x = new Traditional(); System.out.println(&#34;main(): vor run()&#34;); x.run(); System.out.println(&#34;main(): nach run()&#34;); } public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Traditional Nebenläufige Programmierung Erzeugung eines neuen Kontrollflussfadens (Thread) Läuft (quasi-) parallel zu bisherigem Kontrollfluss Threads können unabhängig von einander arbeiten Zustandsverwaltung durch Java-VM (oder Unterstützung durch Betriebssystem) Aufruf einer bestimmten Methode erzeugt neuen Kontrollflussfaden Der neue Thread arbeitet &#34;parallel&#34; zum bisherigen Thread Kontrolle kehrt sofort wieder zurück: Code hinter dem Methodenaufruf wird ausgeführt ohne auf die Beendigung der aufgerufenen Methode zu warten Verteilung der Threads auf die vorhandenen Prozessorkerne abhängig von der Java-VM public class Threaded extends Thread { public static void main(String... args) { Threaded x = new Threaded(); System.out.println(&#34;main(): vor run()&#34;); x.start(); System.out.println(&#34;main(): nach run()&#34;); } @Override public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Threaded Erzeugen von Threads Ableiten von Thread oder Implementierung von Runnable">
    <meta property="og:url" content="https://www.hsbi.de/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro.html">
    <meta property="og:title" content="Einführung in die nebenläufige Programmierung mit Threads">
    <meta property="og:description" content="42 Demo: misc.SwingWorkerDemo (GUI ausprobieren) Einführung in nebenläufige Programmierung Traditionelle Programmierung Aufruf einer Methode verlagert Kontrollfluss in diese Methode Code hinter Methodenaufruf wird erst nach Beendigung der Methode ausgeführt public class Traditional { public static void main(String... args) { Traditional x = new Traditional(); System.out.println(&#34;main(): vor run()&#34;); x.run(); System.out.println(&#34;main(): nach run()&#34;); } public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Traditional Nebenläufige Programmierung Erzeugung eines neuen Kontrollflussfadens (Thread) Läuft (quasi-) parallel zu bisherigem Kontrollfluss Threads können unabhängig von einander arbeiten Zustandsverwaltung durch Java-VM (oder Unterstützung durch Betriebssystem) Aufruf einer bestimmten Methode erzeugt neuen Kontrollflussfaden Der neue Thread arbeitet &#34;parallel&#34; zum bisherigen Thread Kontrolle kehrt sofort wieder zurück: Code hinter dem Methodenaufruf wird ausgeführt ohne auf die Beendigung der aufgerufenen Methode zu warten Verteilung der Threads auf die vorhandenen Prozessorkerne abhängig von der Java-VM public class Threaded extends Thread { public static void main(String... args) { Threaded x = new Threaded(); System.out.println(&#34;main(): vor run()&#34;); x.start(); System.out.println(&#34;main(): nach run()&#34;); } @Override public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Threaded Erzeugen von Threads Ableiten von Thread oder Implementierung von Runnable">
    <meta property="og:locale" content="de_DE">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Einführung in die nebenläufige Programmierung mit Threads">
    <meta itemprop="description" content="42 Demo: misc.SwingWorkerDemo (GUI ausprobieren) Einführung in nebenläufige Programmierung Traditionelle Programmierung Aufruf einer Methode verlagert Kontrollfluss in diese Methode Code hinter Methodenaufruf wird erst nach Beendigung der Methode ausgeführt public class Traditional { public static void main(String... args) { Traditional x = new Traditional(); System.out.println(&#34;main(): vor run()&#34;); x.run(); System.out.println(&#34;main(): nach run()&#34;); } public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Traditional Nebenläufige Programmierung Erzeugung eines neuen Kontrollflussfadens (Thread) Läuft (quasi-) parallel zu bisherigem Kontrollfluss Threads können unabhängig von einander arbeiten Zustandsverwaltung durch Java-VM (oder Unterstützung durch Betriebssystem) Aufruf einer bestimmten Methode erzeugt neuen Kontrollflussfaden Der neue Thread arbeitet &#34;parallel&#34; zum bisherigen Thread Kontrolle kehrt sofort wieder zurück: Code hinter dem Methodenaufruf wird ausgeführt ohne auf die Beendigung der aufgerufenen Methode zu warten Verteilung der Threads auf die vorhandenen Prozessorkerne abhängig von der Java-VM public class Threaded extends Thread { public static void main(String... args) { Threaded x = new Threaded(); System.out.println(&#34;main(): vor run()&#34;); x.start(); System.out.println(&#34;main(): nach run()&#34;); } @Override public void run() { IntStream.range(0, 10).mapToObj(i -&gt; &#34;in run()&#34;).forEach(System.out::println); } } Demo: intro.Threaded Erzeugen von Threads Ableiten von Thread oder Implementierung von Runnable">
    <meta itemprop="wordCount" content="758">
    <title>Einführung in die nebenläufige Programmierung mit Threads</title>
    <link href="https://www.hsbi.de/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro.html" rel="canonical" type="text/html" title="Einführung in die nebenläufige Programmierung mit Threads">

    

    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/images/logo.png?1729954976" rel="icon" type="image/png">

    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/fontawesome-all.min.css?1729954976" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/fontawesome-all.min.css?1729954976" rel="stylesheet"></noscript>
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/nucleus.css?1729954976" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/auto-complete.css?1729954976" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/auto-complete.css?1729954976" rel="stylesheet"></noscript>
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/perfect-scrollbar.min.css?1729954976" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/fonts.css?1729954976" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/fonts.css?1729954976" rel="stylesheet"></noscript>
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/theme.css?1729954976" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/theme-auto.css?1729954976" rel="stylesheet" id="R-variant-style">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/chroma-auto.css?1729954976" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/variant.css?1729954976" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/print.css?1729954976" rel="stylesheet" media="print">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/css/format-print.css?1729954976" rel="stylesheet">
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/js/variant.js?1729954976"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..\/..\/..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/www.hsbi.de\/elearning\/data\/FH-Bielefeld\/lm_data\/lm_1661234';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.index_js_url="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/index.search.js?1729954976";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'zen-light', 'zen-dark', 'relearn-bright', 'relearn-light', 'relearn-dark' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script><style type="text/css">

 
.center {
    align-content: center;
    text-align: center;
    margin: auto;
}
.alert {
    color: #ff3333;
}
.bsp {
    padding: 0.05cm;
    border-width: 0.05cm;
    border-style: solid;
    border-color: #ddd;
    background-color: #ddd;
    border-radius: 25px;
    float: right;
}
.cbox {
    padding: 0.2cm;
    border-width: 0.1cm;
    border-style: solid;
    border-color: #4070a0;
    background-color: #f2f2f2;
    margin: auto;
    width: 60%;
    text-align: center;
    overflow: auto;
}
.blueArrow {
    color: #4070a0;
    font-family: "Courier New", "Courier", monospace;
    font-weight: bold;
}
.origin {
    background-color: #ededed;
    font-size: 0.8em;
}
.showme {
    background-color: #ededed;
    font-size: 0.8em;
}


 
.tldr {
    background: #dbe4ed;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.recap {
    
    
   margin: 4px 0px 26px 0px;
}
.bib {
    background: #dbe4ed;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.outcomes {
    background: #d9e9d5;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.quizzes {
    background: #d9e9d5;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.challenges {
    background: #ebe4d6;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.assignments {
    background: #ebe4d6;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
h1.tldr, h1.recap, h1.bib, h1.outcomes, h1.quizzes, h1.challenges, h1.assignments {
    padding: 0px;
}


 
.noJsAlert {
    padding: 20px;
    background-color: #f44336;  
    color: white;
    margin-bottom: 15px;
}


 
.embed-video-player {
    position: relative;
    padding-bottom: 56%;
    height: 0;
    overflow: hidden;
}
.youtube-player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border:0;
}


 
#header-wrapper {
    padding:0.6rem;
}


 
#shortcuts {
    padding-top: 2.0rem;
}


 
#chapter p {
    text-align: left;
}


 
figcaption h4 {
    margin-top:-2.5rem;
}
.border1 {
    border:1px solid black;
}

 
td ul, td ol {
    margin: 0 0 1rem 0.5rem;
    padding: 0 0 0 0.5rem;
}

 
h1 { font-size:2.8rem !important;}
h2 { font-size:2.2rem; margin:1.2rem 0}
h3 { font-size:1.9rem; text-align:left !important; font-weight:400 !important;}
h4 { font-size:1.6rem}
h5 { font-size:1.3rem}
h6 { font-size:1rem}

h2 {
    width:100% !important;
    border-bottom:1px solid #5e5e5e !important;
    padding-bottom: 2px;
}
.tldr h2, .recap h2, .bib h2, .outcomes h2, .quizzes h2, .challenges h2, .assignments h2 {
    margin:0.5rem 0
}

.btn-crossreference, .btn-crossreference:hover {
    cursor: initial;
}

</style>

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <span class="topbar-breadcrumbs highlightable">
            Einführung in die nebenläufige Programmierung mit Threads
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable " tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
<h1>Einführung in die nebenläufige Programmierung mit Threads</h1>



    



    

    <div class="box notices cstyle info">
  <div class="box-label">
    <i class="fas fa-graduation-cap"></i> TL;DR
  </div>
  <div class="box-content">
<p>Threads sind weitere Kontrollflussfäden, die von der Java-VM (oder (selten) vom OS)
verwaltet werden. Damit ist sind sie leichtgewichtiger als der Start neuer Prozesse
direkt auf Betriebssystem-Ebene.</p>
<p>Beim Start eines Java-Programms wird die <code>main()</code>-Methode automatisch in einem
(Haupt-) Thread ausgeführt. Alle Anweisungen in einem Thread werden sequentiell
ausgeführt.</p>
<p>Um einen neuen Thread zu erzeugen, leitet man von <code>Thread</code> ab oder implementiert
das Interface <code>Runnable</code>. Von diesen eigenen Klassen kann man wie üblich ein neues
Objekt anlegen. Die Methode <code>run()</code> enthält dabei den im Thread auszuführenden
Code. Um einen Thread als neuen parallelen Kontrollfluss zu starten, muss man die
geerbte Methode <code>start()</code> auf dem Objekt aufrufen. Im Fall der Implementierung von
<code>Runnable</code> muss man das Objekt zuvor noch in den Konstruktor von <code>Thread</code> stecken
und so ein neues <code>Thread</code>-Objekt erzeugen, auf dem man dann <code>start()</code> aufrufen kann.</p>
<p>Threads haben einen Lebenszyklus: Nach dem Erzeugen der Objekte mit <code>new</code> wird
der Thread noch nicht ausgeführt. Durch den Aufruf der Methode <code>start()</code> gelangt
der Thread in einen Zustand &quot;ausführungsbereit&quot;. Sobald er vom Scheduler eine
Zeitscheibe zugeteilt bekommt, wechselt er in den Zustand &quot;rechnend&quot;. Von hier kann
er nach Ablauf der Zeitscheibe durch den Scheduler wieder nach &quot;ausführungsbereit&quot;
zurück überführt werden. Dieses Wechselspiel passiert automatisch und i.d.R. schnell,
so dass selbst auf Maschinen mit nur einem Prozessor/Kern der Eindruck einer parallelen
Verarbeitung entsteht. Nach Abarbeitung der <code>run()</code>-Methode wird der Thread beendet
und kann nicht wieder neu gestartet werden. Bei Zugriff auf gesperrte Ressourcen
oder durch <code>sleep()</code> oder <code>join()</code> kann ein Thread blockiert werden. Aus diesem
Zustand gelangt er durch Interrupts oder nach Ablauf der Schlafzeit oder durch <code>notify</code>
wieder zurück nach &quot;ausführungsbereit&quot;.</p>
<p>Die Thread-Objekte sind normale Java-Objekte. Man kann hier Attribute und Methoden
haben und diese entsprechend zugreifen/aufrufen. Das klappt auch, wenn der Thread
noch nicht gestartet wurde oder bereits abgearbeitet wurde.</p>
  </div>
</div>




    
    
    
    





    
    
        
        
            
        
    
        
        
            
        
    
        
        
            
        
    
    

    <div class="box notices cstyle info">
  <div class="box-label">
    <i class="fas fa-podcast"></i> Videos (YouTube)
  </div>
  <div class="box-content">
<ul> <li><a href='https://youtu.be/ClfXbNPRl_8' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>VL Threads Intro</a></li> <li><a href='https://youtu.be/zcVqFAx5D0E' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>Demo Threads Intro: Erzeugen von Threads</a></li> <li><a href='https://youtu.be/lQ_JSHBGhdU' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>Demo Threads Intro: Arbeiten mit Threads (`join()`)</a></li></ul>
  </div>
</div>




    
    
    
    





    
    
        
        
            
        
    
    

    <div class="box notices cstyle info">
  <div class="box-label">
    <i class="fas fa-podcast"></i> Videos (HSBI-Medienportal)
  </div>
  <div class="box-content">
<ul> <li><a href='https://www.hsbi.de/medienportal/m/41a885ac4baf0e087d393b0fa9d3d6f38cc86debad5b7e563c46dac15c0ba4f214476650ad6fa288708eb8b1ccf12d19f6ab46a8c5cf7a58b61a4cff39ec727b' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>VL Threads Intro</a></li></ul>
  </div>
</div>




    
    
    
    






    
    





    

    

    
    
        
        
        
        
    
        
        
        
        
    
        
        
        
        
    
        
        
        
        
    
    

    <div class="box notices cstyle tip">
  <div class="box-label">
    <i class="fas fa-lightbulb"></i> Lernziele
  </div>
  <div class="box-content">
<ul> <li>(K2) Grundsätzlicher Unterschied zw. Threads und Prozessen</li> <li>(K2) Lebenszyklus von Threads</li> <li>(K3) Erzeugen und Starten von Threads</li> <li>(K3) Kommunikation mit Objekten</li></ul>
  </div>
</div>




    <h2 id="42">42</h2>
<p><a href="#R-image-3aac5188fb2a7157d13bafe46a8c7099" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro/screenshot_swingworker.png?width=80%25&height=auto" style=" height: auto; width: 80%;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3aac5188fb2a7157d13bafe46a8c7099"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro/screenshot_swingworker.png?width=80%25&height=auto"></a></p>
<div style="text-align: right;"><span class="btn cstyle interactive default"><a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/lecture/threads/src/misc/SwingWorkerDemo.java" target="_blank"><span class="title">Demo: misc.SwingWorkerDemo (GUI ausprobieren)</span></a></span></div>
<h2 id="einführung-in-nebenläufige-programmierung">Einführung in nebenläufige Programmierung</h2>
<h3 id="traditionelle-programmierung">Traditionelle Programmierung</h3>
<ul>
<li>Aufruf einer Methode verlagert Kontrollfluss in diese Methode</li>
<li>Code hinter Methodenaufruf wird erst <strong>nach Beendigung</strong> der Methode ausgeführt</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Traditional</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String... args) {
</span></span><span style="display:flex;"><span>        Traditional x <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Traditional();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main(): vor run()&#34;</span>);
</span></span><span style="display:flex;"><span>        x.<span style="color:#a6e22e">run</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main(): nach run()&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span>() {
</span></span><span style="display:flex;"><span>        IntStream.<span style="color:#a6e22e">range</span>(0, 10).<span style="color:#a6e22e">mapToObj</span>(i <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;in run()&#34;</span>).<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div style="text-align: right;"><span class="btn cstyle interactive default"><a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/lecture/threads/src/intro/Traditional.java" target="_blank"><span class="title">Demo: intro.Traditional</span></a></span></div>
<h3 id="nebenläufige-programmierung">Nebenläufige Programmierung</h3>
<ul>
<li>Erzeugung eines neuen Kontrollflussfadens (Thread)
<ul>
<li><strong>Läuft (quasi-) parallel zu bisherigem Kontrollfluss</strong></li>
</ul>
</li>
<li>Threads können unabhängig von einander arbeiten</li>
<li>Zustandsverwaltung durch Java-VM (oder Unterstützung durch Betriebssystem)
<ul>
<li>Aufruf einer bestimmten Methode erzeugt neuen Kontrollflussfaden</li>
<li>Der neue Thread arbeitet &quot;parallel&quot; zum bisherigen Thread</li>
<li>Kontrolle kehrt sofort wieder zurück: Code hinter dem Methodenaufruf
wird ausgeführt ohne auf die Beendigung der aufgerufenen Methode zu
warten</li>
<li>Verteilung der Threads auf die vorhandenen Prozessorkerne abhängig
von der Java-VM</li>
</ul>
</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Threaded</span> <span style="color:#66d9ef">extends</span> Thread {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String... args) {
</span></span><span style="display:flex;"><span>        Threaded x <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Threaded();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main(): vor run()&#34;</span>);
</span></span><span style="display:flex;"><span>        x.<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main(): nach run()&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span>() {
</span></span><span style="display:flex;"><span>        IntStream.<span style="color:#a6e22e">range</span>(0, 10).<span style="color:#a6e22e">mapToObj</span>(i <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;in run()&#34;</span>).<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div style="text-align: right;"><span class="btn cstyle interactive default"><a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/lecture/threads/src/intro/Threaded.java" target="_blank"><span class="title">Demo: intro.Threaded</span></a></span></div>
<h2 id="erzeugen-von-threads">Erzeugen von Threads</h2>
<ul>
<li>
<p>Ableiten von <code>Thread</code> oder Implementierung von <code>Runnable</code></p>
<p><a href="#R-image-65b61f666236474658032d5bb0f8d591" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro/ThreadRunnable.png?width=80%25&height=auto" style=" height: auto; width: 80%;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-65b61f666236474658032d5bb0f8d591"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro/ThreadRunnable.png?width=80%25&height=auto"></a></p>
</li>
<li>
<p>Methode <code>run()</code> implementieren, aber nicht aufrufen</p>
</li>
<li>
<p>Methode <code>start()</code> aufrufen, aber (i.d.R.) nicht implementieren</p>
</li>
</ul>
<div style="text-align: right;"><span class="btn cstyle interactive default"><a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/lecture/threads/src/creation/" target="_blank"><span class="title">Demo: creation.*</span></a></span></div>
<h3 id="ableiten-von-thread">Ableiten von <em>Thread</em></h3>
<ul>
<li><code>start()</code> startet den Thread und sorgt für Ausführung von <code>run()</code></li>
<li><code>start()</code> nur einmal aufrufen</li>
</ul>
<h3 id="implementierung-von-runnable">Implementierung von <em>Runnable</em></h3>
<ul>
<li>Ebenfalls <code>run()</code> implementieren</li>
<li>Neues <code>Thread</code>-Objekt erzeugen, Konstruktor das eigene Runnable übergeben</li>
<li>Für Thread-Objekt die Methode <code>start()</code> aufrufen
<ul>
<li>Startet den Thread (das Runnable) und sorgt für Ausführung von <code>run()</code></li>
</ul>
</li>
</ul>
<p>Vorteil von <code>Runnable</code>: Ist ein Interface, d.h. man kann noch von einer anderen Klasse erben</p>
<h2 id="zustandsmodell-von-threads-vereinfacht">Zustandsmodell von Threads (vereinfacht)</h2>
<p>Threads haben einen Lebenszyklus: Nach dem Erzeugen der Objekte mit <code>new</code> wird
der Thread noch nicht ausgeführt. Er ist sozusagen in einem Zustand &quot;erzeugt&quot;.
Man kann bereits mit dem Objekt interagieren, also auf Attribute zugreifen und
Methoden aufrufen.</p>
<p>Durch den Aufruf der Methode <code>start()</code> gelangt der Thread in einen Zustand
&quot;ausführungsbereit&quot;, er läuft also aus Nutzersicht. Allerdings hat er noch keine
Ressourcen zugeteilt (CPU, ...), so dass er tatsächlich noch nicht rechnet. Sobald
er vom Scheduler eine Zeitscheibe zugeteilt bekommt, wechselt er in den Zustand
&quot;rechnend&quot; und führt den Inhalt der <code>run()</code>-Methode aus. Von hier kann er nach
Ablauf der Zeitscheibe durch den Scheduler wieder nach &quot;ausführungsbereit&quot; zurück
überführt werden. Dieses Wechselspiel passiert automatisch und i.d.R. schnell,
so dass selbst auf Maschinen mit nur einem Prozessor/Kern der Eindruck einer parallelen
Verarbeitung entsteht.</p>
<p>Nach der Abarbeitung der <code>run()</code>-Methode oder bei einer nicht gefangenen Exception
wird der Thread beendet und kann nicht wieder neu gestartet werden. Auch wenn der
Thread abgelaufen ist, kann man mit dem Objekt wie üblich interagieren (nur eben
nicht mehr parallel).</p>
<p>Bei Zugriff auf gesperrte Ressourcen oder durch Aufrufe von Methoden wie <code>sleep()</code>
oder <code>join()</code> kann ein Thread blockiert werden. Hier führt der Thread nichts aus,
bekommt durch den Scheduler aber auch keine neue Zeitscheibe zugewiesen. Aus diesem
Zustand gelangt der Thread wieder heraus, etwa durch Interrupts (Aufruf der Methode
<code>interrupt()</code> auf dem Thread-Objekt) oder nach Ablauf der Schlafzeit (in <code>sleep()</code>)
oder durch ein <code>notify</code>, und wird wieder zurück nach &quot;ausführungsbereit&quot; versetzt
und wartet auf die Zuteilung einer Zeitscheibe durch den Scheduler.</p>
<p>Sie finden in <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/threads/threads-intro.html#id_Boles2008">[Boles2008, Kapitel 5.2 &quot;Thread-Zustände&quot;]</a> eine schöne
ausführliche Darstellung.</p>
<h3 id="threads-können-wie-normale-objekte-kommunizieren">Threads können wie normale Objekte kommunizieren</h3>
<ul>
<li>Zugriff auf (<code>public</code>) Attribute (oder eben über Methoden)</li>
<li>Aufruf von Methoden</li>
</ul>
<h3 id="threads-können-noch-mehr">Threads können noch mehr</h3>
<ul>
<li>
<p>Eine Zeitlang schlafen: <code>Thread.sleep(&lt;duration_ms&gt;)</code></p>
<ul>
<li>Statische Methode der Klasse <code>Thread</code> (Klassenmethode)</li>
<li>Aufrufender Thread wird bis zum Ablauf der Zeit oder bis zum Aufruf
der <code>interrupt()</code>-Methode des Threads blockiert</li>
<li>&quot;Moderne&quot; Alternative: <code>TimeUnit</code>, beispielsweise <code>TimeUnit.SECONDS.sleep( 2 );</code></li>
</ul>
</li>
<li>
<p>Prozessor abgeben und hinten in Warteschlange einreihen: <code>yield()</code></p>
</li>
<li>
<p>Andere Threads stören: <code>otherThreadObj.interrupt()</code></p>
<ul>
<li>Die Methoden <code>sleep()</code>, <code>wait()</code> und <code>join()</code> im empfangenden Thread
<code>otherThreadObj</code> lösen eine <code>InterruptedException</code> aus, wenn sie
durch die Methode <code>interrupt()</code> unterbrochen werden. Das heißt,
<code>interrupt()</code> beendet diese Methoden mit der Ausnahme.</li>
<li>Empfangender Thread verlässt ggf. den Zustand &quot;blockiert&quot; und wechselt
in den Zustand &quot;ausführungsbereit&quot;</li>
</ul>
</li>
<li>
<p>Warten auf das Ende anderer Threads: <code>otherThreadObj.join()</code></p>
<ul>
<li>Ausführender Thread wird blockiert (also nicht <code>otherThreadObj</code>!)</li>
<li>Blockade des Aufrufers wird beendet, wenn der andere Thread
(<code>otherThreadObj</code>) beendet wird.</li>
</ul>
</li>
</ul>
<p><em>Hinweis:</em> Ein Thread wird beendet, wenn</p>
<ul>
<li>die <code>run()</code>-Methode normal endet, oder</li>
<li>die <code>run()</code>-Methode durch eine nicht gefangene Exception beendet wird, oder</li>
<li>von außen die Methode <code>stop()</code> aufgerufen wird (Achtung: Deprecated!
Einen richtigen Ersatz gibt es aber auch nicht.).</li>
</ul>
<p><em>Hinweis:</em> Die Methoden <code>wait()</code>, <code>notify()</code>/<code>notifyAll()</code> und die &quot;<code>synchronized</code>-Sperre&quot;
werden in der Sitzung [&quot;Threads: Synchronisation&quot;](threads-intro.
besprochen.</p>
<div style="text-align: right;"><span class="btn cstyle interactive default"><a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/lecture/threads/src/intro/Join.java" target="_blank"><span class="title">Demo: intro.Join</span></a></span></div>
<h2 id="wrap-up">Wrap-Up</h2>
<p>Threads sind weitere Kontrollflussfäden, von Java-VM (oder (selten) von OS) verwaltet</p>
<ul>
<li>Ableiten von <code>Thread</code> oder implementieren von <code>Runnable</code></li>
<li>Methode <code>run</code> enthält den auszuführenden Code</li>
<li>Starten des Threads mit <code>start</code> (nie mit <code>run</code>!)</li>
</ul>


    



    
    
        
        
        
            
        
    
    

    <div class="box notices cstyle tip">
  <div class="box-label">
    <i class="fas fa-user-check"></i> Quizzes
  </div>
  <div class="box-content">
<ul> <li><a href='https://www.hsbi.de/elearning/goto.php?target=tst_1106529&client_id=FH-Bielefeld' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>Quiz Threads Intro (ILIAS)</a></li></ul>
  </div>
</div>



    



    




    




    
    
        
        

        
            
            
            
            
            

            
            
                
                    
                
            
            
            
            
            
            

            
            
                
            
            
                
                
                    
                
                
            
            
            
        
    
        
        

        
            
            
            
            
            

            
            
                
                    
                
            
            
            
            
            
            

            
            
                
            
            
                
                
                
            
            
                
            
            
        
    
        
        

        
            
            
            
            
            

            
            
                
                    
                
            
            
            
            
            
            

            
            
                
            
            
                
                
                    
                
                
            
            
                
            
            
        
    
    

    <div class="box notices cstyle info">
  <div class="box-label">
    <i class="fas fa-book-reader"></i> Quellen
  </div>
  <div class="box-content">
<ul> <li id='id_Boles2008'>[Boles2008] <a href='http://www.boles.de/hamster/band3.html' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'><strong>Parallele Programmierung spielend gelernt mit dem Java-Hamster-Modell</strong></a><br>Boles, D., Vieweg+Teubne, 2008. ISBN <a href='https://fhb-bielefeld.digibib.net/openurl?isbn=978-3-8351-0229-3' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>978-3-8351-0229-3</a>.</li> <li id='id_Java-SE-Tutorial'>[Java-SE-Tutorial] <a href='https://docs.oracle.com/javase/tutorial/' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'><strong>The Java Tutorials</strong></a><br>Oracle Corporation, 2022.<br><em>Trail: Essential Java Classes, Lesson: Concurrency</em></li> <li id='id_Ullenboom2021'>[Ullenboom2021] <a href='https://openbook.rheinwerk-verlag.de/javainsel/index.html' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'><strong>Java ist auch eine Insel</strong></a><br>Ullenboom, C., Rheinwerk-Verlag, 2021. ISBN <a href='https://fhb-bielefeld.digibib.net/openurl?isbn=978-3-8362-8745-6' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'>978-3-8362-8745-6</a>.<br><em>Kap. 16: Einführung in die nebenläufige Programmierung</em></li></ul>
  </div>
</div>






<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a> and <a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Programmiermethoden-CampusMinden/Prog2-Lecture/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

        </div>
      </main>
    </div>
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/js/clipboard.min.js?1729954976" defer></script>
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/js/perfect-scrollbar.min.js?1729954976" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/js/mathjax/tex-mml-chtml.js?1729954976"></script>
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1661234/js/theme.js?1729954976" defer></script>
  </body>
</html>
